{% extends 'base.html' %}
{% load static %}

{% block title %}EchoHive - Eco-Friendly Essentials{% endblock %}

{% block content %}
<!-- hero area -->
<div class="hero-area hero-bg">
    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert"
                 style="position: fixed; top: 20px; right: 20px; z-index: 9999;width: 15%;height: 15%">
                {{ message }}
            </div>
        {% endfor %}
    {% endif %}
    <div class="container">
        <div class="row">
            <div class="col-lg-9 offset-lg-2 text-center">
                <div class="hero-text">
                    <div class="hero-text-tablecell">
                        <p class="subtitle">Sustainable & Green</p>
                        <h1>Eco-Friendly Essentials</h1>
                        <div class="hero-btns">
                            <a href="{% url 'shop' %}" class="boxed-btn">Explore Products</a>
                            <a href="{% url 'contact' %}" class="bordered-btn">Contact Us</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- end hero area -->

<!-- features list -->
<div class="list-section pt-80 pb-80">
    <div class="container">
        <div class="row">
            <div class="col-lg-4 col-md-6 mb-4 mb-lg-0">
                <div class="list-box d-flex align-items-center">
                    <div class="list-icon"><i class="fas fa-shipping-fast"></i></div>
                    <div class="content">
                        <h3>Free Shipping</h3>
                        <p>When order over $75</p>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 mb-4 mb-lg-0">
                <div class="list-box d-flex align-items-center">
                    <div class="list-icon"><i class="fas fa-phone-volume"></i></div>
                    <div class="content">
                        <h3>24/7 Support</h3>
                        <p>Get support all day</p>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6">
                <div class="list-box d-flex align-items-center">
                    <div class="list-icon"><i class="fas fa-sync"></i></div>
                    <div class="content">
                        <h3>Refund</h3>
                        <p>Get refund within 3 days!</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- end features list -->

<!-- product section -->
<div class="product-section mt-150 mb-150">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 offset-lg-2 text-center">
                <div class="section-title">
                    <h3><span class="orange-text">Our</span> Products</h3>
                    <p>Browse our collection of sustainable, eco-conscious goods made to reduce your impact.</p>
                </div>
            </div>
        </div>

        <div class="row">

            <div class="row">
    {% for product in products|slice:":6" %}
    <div class="col-lg-4 col-md-6 text-center mb-4">
        <div class="single-product-item" style="height: 400px; width: 100%; border: 1px solid #eee; border-radius: 8px; overflow: hidden; transition: all 0.3s; display: flex; flex-direction: column; background: #fff;">
            <div class="product-image" style="height: 200px; overflow: hidden; display: flex; align-items: center; justify-content: center; background: #f9f9f9; padding: 15px;">
                <a href="{% url 'product_detail' product.id %}">
                    <img src="{{ product.image.url }}" alt="{{ product.name }}"
                         style="max-height: 100%; max-width: 100%; object-fit: contain; transition: transform 0.3s;">
                </a>
            </div>
            <div class="product-info" style="padding: 20px; height: 200px; display: flex; flex-direction: column; justify-content: space-between;">
                <h3 style="margin: 0 0 10px; font-size: 18px; color: #333; min-height: 40px; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;">{{ product.name }}</h3>
                <p class="product-price" style="margin: 10px 0; font-size: 16px;">
<!--                    <span style="color: #666; font-size: 14px; margin-right: 5px;">Per Kg</span>-->
                    {% if product.discount_price %}
                        <span class="original-price" style="text-decoration: line-through; color: #999; margin-right: 5px;">${{ product.price }}</span>
                        <span style="color: #F28123; font-weight: bold;">${{ product.discount_price }}</span>
                    {% else %}
                        <span>${{ product.price }}</span>
                    {% endif %}
                </p>
                <a href="{% url 'add_to_cart' product.id %}" class="cart-btn"
                   style="margin-top: auto; display: inline-block; background-color: #F28123; color: #fff; padding: 8px 15px; border-radius: 4px; text-transform: uppercase; font-weight: 700; border: none; transition: all 0.3s; text-align: center; font-size: 14px;">
                    <i class="fas fa-shopping-cart"></i> Add to Cart
                </a>
            </div>
        </div>
    </div>
    {% endfor %}
</div>

<div class="row mt-4">
    <div class="col-12 text-center">
        <a href="{% url 'shop' %}" class="boxed-btn"
           style="display: inline-block; background-color: #F28123; color: #fff; padding: 12px 30px; border-radius: 4px; text-transform: uppercase; font-weight: 700; transition: all 0.3s; border: none;">
            View More Products
        </a>
    </div>
</div>

<style>
.single-product-item:hover {
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    transform: translateY(-5px);
}
.single-product-item:hover .product-image img {
    transform: scale(1.05);
}
.cart-btn:hover, .boxed-btn:hover {
    background-color: #051922;
    text-decoration: none;
}
</style>
        </div>
    </div>
</div>

<!-- about section -->
<div class="abt-section mb-150">
    <div class="container">
        <div class="row">
            <div class="col-lg-6 col-md-12">
                <div class="abt-bg">
                    <a href="https://www.youtube.com/watch?v=DBLlFWYcIGQ" class="video-play-btn popup-youtube"><i class="fas fa-play"></i></a>
                </div>
            </div>
            <div class="col-lg-6 col-md-12">
                <div class="abt-text">
                    <p class="top-sub">Since Year 1999</p>
                    <h2>We are <span class="orange-text">EchoHive</span></h2>
                    <p>Committed to making sustainability simple. At EchoHive, we believe in small changes that make big impact.</p>
                    <a href="{% url 'about' %}" class="boxed-btn mt-4">Know More</a>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- end about section -->

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const alerts = document.querySelectorAll('.alert');
        alerts.forEach(alert => {
            setTimeout(() => {
                const bsAlert = new bootstrap.Alert(alert);
                bsAlert.close();
            }, 3000);
        });
    });
</script>
{% endblock %}
